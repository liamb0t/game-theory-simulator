<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>Evolutionary Game Theory Visualizer</title>
        <link rel="icon" type="image/x-icon" href="favicon.png">
    </head>
    <body>
        <div id="front-title">
            <span class="loader"></span>
            <span id="front-title-text"></span>
            <div id="center-page">
                <span id="begin-button">Begin</span>
                <a href="https://github.com/liamb0t/liamb0t.github.io" target="_blank">github</a>
            </div>
        </div>

        <div id="stats-container">
            <div>
                <span>Generations:</span>
                <span id="generation-counter">0</span>
            </div>
            <div>
                <span id="stat-label-1">Cooperators:</span>
                <span id="coop-counter">0</span>
                <span>%</span>
            </div>
            <div>
                <span id="stat-label-2">Defectors:</span>
                <span id="defect-counter">0</span>
                <span>%</span>
            </div>
            <div id="stat-container-3" style="display: none;">
                <span id="stat-label-3">Defectors:</span>
                <span id="stat-counter-3">0</span>
                <span>%</span>
            </div>
        </div>

        
        <!-- <div id="toggle-editor" data-isOpen="true">
            X
        </div> -->

        <div id="editor-container">
            <div id="editor">
              
                <div id="editor-title">
                    <span>THE GAME</span>
                </div>
                <p id="game-info-start" class="game-info">Select a game from the game menu!
                </p>
                <hr>
                <div id="editor-title">
                    <span>THE RULES</span>
                </div>

                <div id="editor-rules">
                    <div>
                        <span>At the end of each generation, things update their strategies</span>
                        <select id="update-rules-menu">
                        <option value="0">deterministically</option>
                        <option value="1">probalistically</option>
                        <option value="2">biologically</option>
                        </select>
                    </div>
                    <br>
                    <div class="proportions" id="utility-functions">
                        <span class="payoff-slider-text">Payoff from defecting</span>
                        <input type="range" min="0.0" max="3" step="0.01" id="payoff" name="payoff" class="sliders" value="0.75">
                        <div class="cost-container">
                            <span>Cost from Fighting</span>
                            <input type="range" min="0.0" max="3" step="0.01" id="cost" name="cost" class="sliders" value="0.75">
                        </div>
                      
                    </div>
                    <br>
                    <div class="proportions" id="noise-container">
                        <span>Noise</span>
                        <input type="range" id="noise" min="0.0" max="1" step="0.001" class="sliders" value="0.005">
                    </div>
                    <div class="proportions" id="bio-proportions"> 
                        <p>These parameters determine the probalility by which biolgical process a thing changes it's strategy:</p>
                        <span>Reproduction</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="bio-slider1" name="bio-slider1" class="sliders">

                        <span>Selection</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="bio-slider2" name="bio-slider2" class="sliders">

                        <span>Exchange</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="bio-slider3" name="bio-slider3" class="sliders">
                    </div>
                    <div>
                        <label for="selfInteractionsBtn">Things interact with themselves</label>
                        <input type="checkbox" id="selfInteractionsBtn">
                    </div>
                </div>
                <div id="segregation-rules">
                    <span>If the number of my neighbours who are the same as me are greater than</span>
                    <input type="text" id="seg-threshold" name="seg-threshold" class="editor_number" value="50">
                    <span>%, I will move to an empty square. </span>
                </div>
                <hr>
                    
                <div id="editor-title">
                    <span>THE WORLD</span>
                </div>
                <div>
                    <div>
                        <span>This world is a </span>
                        <input type="text" id="cols-input" class="editor_number" placeholder="128">
                        <span>by</span>
                        <input type="text" id="rows-input" class="editor_number" placeholder="64">
                        <span>grid.</span>
                    </div>
                    <p>
                        It starts with this ratio of things:
                    </p>
                    <div class="proportions" id="bi-input-games-div">
                        <span id="popsimple-span1">Cooperators</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="pop-density-slider1" name="pop-density-slider1" class="sliders">
                        <input type="color" id="color5" class="colorpicker-2" data-strat="coop">

                        <span id="popsimple-span2">Defectors</span>
                        <input  type="range" min = "0" max = "1" step="0.01" id="pop-density-slider2" name="pop-density-slider2" class="sliders">
                        <input type="color" id="color6" class="colorpicker-2" data-strat="defect">

                        <span id="popsimple-span3">Empty Cells</span>
                        
                        <input  type="range" min = "0" max = "1" step="0.01" id="pop-density-slider3" name="pop-density-slider3" class="sliders">  
                    </div>

                    <div class="proportions" id="tri-input-games-div"> 
                        <span id="pop-span1">Rock</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="tri-slider1" name="tri-slider1" class="sliders">
                        <input type="color" id="color1" class="colorpicker" data-strat="rock">
    
                        <span id="pop-span2">Paper</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="tri-slider2" name="tri-slider2" class="sliders">
                        <input type="color" id="color2" class="colorpicker" data-strat="paper">
    
                        <span id="pop-span3">Scissors</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="tri-slider3" name="tri-slider3" class="sliders">
                        <input type="color" id="color3" class="colorpicker" data-strat="scissors">

                        <span id="pop-span4">Empty Cells</span>
                        <input type="range" min = "0" max = "1" step="0.01" id="tri-slider4" name="tri-slider4" class="sliders">
                        <input type="color" id="color4" class="colorpicker" data-strat="empty">
                    </div>
                    <span>Each thing considers it's neighbours to be</span>
                    <select id="neighbours-menu">
                        <option value="0">the 4 cells to it's sides</option>
                        <option value="1">the 8 cells to it's sides and corners</option>
                    </select>
                   
                </div>
                <hr>
                    
                <div id="editor-title">
                    <span>THE DISPLAY</span>
                </div>
                <div>
                    <span>Grid Style</span>
                    <select id="display-style">
                        <option value="1">Basic</option>
                        <option value="2">Micro</option>
                    </select>
                    <div>
                        <label for="toggle-stats-btn">Display game statistics</label>
                        <input type="checkbox" id="toggle-stats-btn">
                    </div>
                    <div>
                        <span>Cell border size</span>
                        <input type="range" id="cellsize-slider" min="-5" max="0" step="1" class="sliders">
                    </div>
                    <div>
                        <span>Blend</span>
                        <input type="range" id="blend-slider" min="0.05" max="1" step="0.001" class="sliders">
                    </div>
                </div>
            </div>
        </div>

        <div id="play-container">
            <div id="play-controls">
                <button id="reset-button">Reset</button>
                <button id="play-button">Start</button>
                <select id="selectGameMenu">
                    <option value="100">Select a game</option>
                    <option value="0">Prisoners Dilemma</option>
                    <option value="1">Rock Paper Scissors</option>
                    <option value="2">Segregation</option>
                    <option value="3">Ultimatum Game</option>
                    <option value="4">Stag Hunt</option>
                    <option value="5">Hawk-Dove</option>
                </select>
                <button id="pause-button">Pause game</button>
                <button id="draw-button" style="display: flex;">
                    Draw
                    <div id="draw-square"></div>
                </button>
               
            </div>
        </div>


        <div id="canvas-container">
            <canvas id="canvas" width="1800" height="1000"></canvas>
        </div>
        <script src="config.js"></script>
        <script src="helperFunctions.js"></script>
        <script src="pd.js"></script>
        <script src="hd.js"></script>
        <script src="stag.js"></script>
        <script src="rect.js"></script>
        <script src="rps.js"></script>
        <script src="index.js"></script>
        <script src="schelling.js"></script>
        <script src="ultimatum.js"></script>
    </body>
</html>